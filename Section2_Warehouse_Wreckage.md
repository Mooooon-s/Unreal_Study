# intro
피직스를 기반으로 게임을 빌드하는 것에 집중

만들고자 하는 게임

발사체를 던겨서 물체를 맞춰 쓰러트리는 게임

# Plan
1. 피직스를 이용한 게임

2. 씬에서 오브젝트를 런타임에서 생성하고 발사하는 방법

3. 조준하고 발사하는 법

4. BXP라고하는 툴로 씬의 레벨 빌딩하는 법

5. 에셋추가 총알과 리로드 하는법

# Project Setup
블루프린트를 기반으로 하는 프로젝트 만들기
게임스에서 빈을 선택하고 project Default에서 블루프린트를 선택
시작용 콘텐츠 버튼을 선택하고 새로 만들면 됨

그러면 컨텐트 폴더가 생기는데 이 안에 기본적으로 몇가지 레벨이 있음

## 레벨에서 블루 프린트 보는 법
뷰포트 밖의 상단 툴바에 그래프 같은 버튼을 루러서 레벨 블루프린트를 열수 있음

열면 새 창이 열리면서 새 에디터 보기가 있음

### 이벤트 그래프
블루프린트 창의 가운데 영역

여기에서 블루 프린트를 작성할 수 있음

양 옆의 에디터 창을 닫을 수 있음

오른쪽 클릭하면 엄청나게 많은 기능이 있는 리스트가 나옴

새 창을 드래그 해서 메인 창에 연결 시키면 됨

# Blueprint Event Graph
블루 프린트에서 프로그래밍은 전기 회로를 연결하는 것과도 비슷함

## 간단한 용어 정리

### Event Graph
블루 프린트를 그릴 캔버스 같은 것

### Node
노드는 블루 프린트에서 사용할 수 있는 미리 만들어진 기능

### String
프로그래머가 말하는 언어 TEXT  같은거

오래된 출려은 아래에 출력 되는 것을 알 수 있음

### Event
언제라는 노드로 언제 발생하는 것에 대한 노드

### Pin
노드를 연결할 수 있는 부분

핀을 드래그 해서 빈 공간에 놓으면 새로운 노드를 만들 수 있는 리스트가 만들어짐

### input pin & output pin
말 그대로 들어오는 핀( 노드의 왼쪽에 존재 ) 나오는 핀 ( 노드의 오른쪽에 존재 )

### Connection
when then으로 연결되는 선 같은거


# Physics Simulation
씬 안에서 피직스 시뮬레이션을 활성화 하여 큐브를 움직이고 사물이 중력이 없어 떠다니도록 하는 것이 목표

액터를 선택하면 아웃라이너 아래에 디테일 탭이 있고 이 디텔일 탭에서 여러 탭이 존재하는데 피직스를 선택

피직스 탭에서는 액터의 피직스에 관한 여러가지 설정이 들어있음 여기서 시뮬레이션 피직스를 선택해주면 이제 피직스가 적용됨

추가한 오브젝트에 대해서도 적용됨

피직스 탭에서 그래비티를 해제 하면 둥둥 떠다님

중량을 선택하고 원하는 중량을 선택하면 그대로 적용됨

Shift 클릭하면 동시에 선택 가능함


# Object and Reference
오브젝트란 본질적으로 무언가를 대표하는 것

플레이어와 같이 무언가 데이터를 가지고 있고 기능을 가지고 있는 오브젝트나 추상적인 리스트 오브젝트가 있을 수 있음

### 용어 정리

### Objects
데이터와 기능들의 집합 

### Actors
Object인데 레벨에 존재할 수 있는 Object

### Component
Object인데 Actor로 들어가는 오브젝트

### Referece
오브젝트를 찾을 위치

오브젝트들은 엄청 많은 데이터들을 가지고 있을 수가 있음
이러면 복사 해서 사용하면 매우 무거워 지기 때문에 Referece를 이용함

하나의 구조체로 주소 내지 메모리에서 오브젝트를 찾기위해 가야할 위치 (포인터 같은거 같음)

블루 프린트에서 액터를 레퍼런스노드로 생성하면
- 블루 프린트에서 해당 액터를 찾음
- 해당 액터에 질문을 하거나 기능을 사용할 수 있음

### Data Pin
노드에서 파란색의 핀으로
데이터를 받거나 데이터를 만들어낼 수 있음

### Execution Pins
언제 실행할지 결정하는 핀

### Convert Node
해당 노드의 반환 값의 타입이 다른 노드의 입력 값의 타입에 맞지 않을 경우 변경이 가능하면 그에 맞게 변경해주는 노드


# Add Impulse
포스과 임펄스는 다름

포스( force ) 는 시간에 따라 가하는 힘

f= ma
힘 = 질량 * 가속도

I = m v
임펄스 = 질량 * 속도의 변화량

임펄스는 즉각적으로 가하는 힘

Context Sensitive를 체크하면 해당 컴포넌트에서 사용할 수 있는 노드들을 보여줌

임펄스에 다른 것들도 체워야함

임펄스 노드에서 vel change를 체크하면 질량에 상관 없이 설정한 임펄스 크기로 힘을 가함


# blueprint class and instance
여러 오브젝트가 하나의 기능을 공유하는 클래스를 만드는 법

## 클래스 인스턴스
인스턴스는 미리 정의한 클래스를 이용해서 만든 객체
클래스는 오브젝트 인스턴스의 원본 같은 것

## 오브젝트에서 블루프린트 클래스로 변환
아웃라인너에서 오브젝트를 클릭하고 블루프린트 버튼을 찾아서 누르면 해당 액터를 블루프린트 클래스로 만들 수 있음

레벨 블루 프린트와 비슷하지만 뷰포트가 있고 오브젝트 클래스의 미리보기가 보임 유니티의 프리팹과 비슷한듯

## 메테리얼 변경
블르 프리느 클래스에서 매시 컴포넌트를 선택하면 아웃라이너에서 볼 수 있었던 컨포넌트 같은 걸 볼 수 있음

블루프린트 클래스에서 컴포넌트나 매쉬 등 이런 저런 것들을 수정하면 

이걸 이용해서 생성한 인스턴스들은 모두 영향을 받음

똑같은 걸 반복할 필용 없음


# Spawning Actor
실시간으로 액터를 생성하기

플레이하는 도중에 레벨에 액터를 생성하기

레벨 블루 프린트를 통해서 생성가능함
- 알트를 누르고 핀을 누르면 블루프린트에서 연결을 끊을 수 있음 

## how to Spawn
SpawnActor Node 를 통해서 생성 할 수있음

split struct class를 해서 원하는 값을 넣을 수 있도록 노드가 변경됨

반환 핀이 존재함 여기서는 우리가 생성한 인스턴스의 주소값이 반환됨 즉 방금 생성한 인스턴스가 반환 된 것임

# Data Type
## Data type
데이터의 형태
이진법으로 나타내는 방법

이걸로 어떤걸 할 수 있는지 제한하는지

데이터의 모양
- integer
- float
- string
- bools ( boolean )

오브젝트처럼 그룹으로 모으면 더 많은 걸 표현가능함
struct와 혼동하면 안됨

## Struct
구조체는 일반적으로 작은 오브젝트


## Objects
데이터와 기능의 모임

어드벤쳐라는 클래스가 있고 플래이어라는 클래스가 있음
이 둘은 서로 호환 되지 안음

구조체는 이러한 클래스 사이에서 호환이 가능한 데이터임

오브젝트에는 액터 컴포넌트 이러한 것들은 데이터 타입으로 이루어져 있음

# Pawn, Actor and transform
## Pawn
1인칭 슈팅에서는 발사체는 내가 보이는 곳에서 발사되야함

때문에 이젝팅이라는 기술을 사용 게임 실행중에 F8를 이용하고 내가 있는 위치를 이동하면 뭔사 생김

이걸 클리하면 DefaultPawn이라는게 뜸

Pawn은 게임 월드에서 플레이어의 물리적 묘사라고 말함

하지만 게임을 멈추면 이걸 보거나 아웃라인너에서 찾을 수 없음

언리얼은 기본적으로 시작할 때 폰이 없으면 자동으로 폰을 생성함 Player Start의 위치에

폰은 게임이 시작되야 생성되기 때문에 블루프린트에서 pawn을 검색하면 getplayerpawn 노드를 찾을 수 있음

싱글이라면 폰을 0으로 멀티라면 폰은 여러개가 될 것임

이 노드로 폰을 가져오면 이걸 이용해서 플레이어의 위치나 이것 저것을 받아 올 수 있음

# Controll Rotation
폰은 회전이 되어 있지 않는 다는 것을 확인 을 할 수 있는데 
카메라와 폰의 회전은 별개로 존재함 그래서 이를 controler로 따로 되어있음

이걸 받아와서 연결 해 주었지만 생성될 때 회전 값만 적용되지 임펄스에서는 적용되지 않고 있음

# vector add multiply
- Vector
    - 3D 공간에서 방향과 크기를 말함
- 컴퓨터공학에서는
    - 정수 3개로 나눠져있음

## 더할 때
그냥 각 요소 별로 더하고 빼고를 하면됨

## 곱할 때
방향은 변하지 않고 각 요소에 모두 곱하면됨

전방 벡터 받아와서 원하는 크기만큼 곱해주면 그만큼 벡터가 변화되어서 날아갈것임
- 전방 벡터는 : 회전된 기준으로 전방을 가리키는 벡터임